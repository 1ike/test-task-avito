<div class="comments">
  <h2 class="comments--title">
    Comments ({{commentsQty}})
    <app-refresh-button
      *ngIf="commentsQty || loadingComments"
      header-button
      (clickEmmiter)="onClickRefreshCommentsButton()"
      [loading]="loadingStory || loadingComments"
      [tooltipText]="'Refresh comments'"
      class="comments--refreshButton"
      [attr.aria-label]="'Refresh comments'"
    ></app-refresh-button>
  </h2>


  <mat-tree [dataSource]="commentTree" [treeControl]="treeControl" class="example-tree">
    <mat-nested-tree-node *matTreeNodeDef="let node">
      <app-comment
        [node]="node"
        [isExpanded]="treeControl.isExpanded(node)"
      >
      </app-comment>

      <div [class.example-tree-invisible]="!treeControl.isExpanded(node)" role="group">
        <ng-container matTreeNodeOutlet></ng-container>
      </div>
    </mat-nested-tree-node>
  </mat-tree>
</div>
